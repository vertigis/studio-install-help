name: studio
services:
  main:
    image: vertigisapps.azurecr.io/studio
    ports:
      - 80:8080
      - 443:8443
    environment:
      ARCGIS_PORTAL_URL: https://server.contoso.com/portal
      ARCGIS_APP_ID: app_id
      VERTIGIS_ACCOUNT_ID: account_id
      VERTIGIS_PURGE: 1
      VERTIGIS_WORKERS: 8
      TZ: America/Los_Angeles
      WEB_CERT: host
    volumes:
      - "data:/data"
      - "logs:/var/log"
      - "stmp:/stmp"
      - "./server:/etc/nginx/server"
      - "./ca-certs:/usr/local/share/ca-certificates"
      - "./web-certs:/usr/local/share/web-certificates"
volumes:
  data: {}
  logs: {}
  stmp: {}
